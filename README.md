# Example of kevin-middleware
This is a toy example of using [kevin-middleware](https://github.com/etsy/kevin-middleware) to manage multiple Webpack configs in a development environment.

## Info
I've added thorough comments throughout the code, so I hope this is self-documenting. In any case, I'll add some info here.

In this example, we imagine we have two self-contained apps within the same project — App A and App B. A developer working on this project may likely only work on one app in a given session, so it isn't necessary for us to build the JS for the other app if they're not working on it. By using Kevin, we can allow Webpack to automatically only build the JS for the pages that are being worked on.

This example has two variants — check out `server.js` to see how to toggle them.
- In one variant (default), we assume Webpack is not responsible for building HTML. This was the assumed use-case when Kevin was designed.
- In the other variant, we use HTML generated by the `HtmlWebpackPlugin`. This was not the assumed use-case when Kevin was designed.

The assumed dev workflow when using Kevin is:
1. Visit your HTML page, where a request for JS hits Kevin.
2. Kevin starts up a Webpack compiler for the requested JS.
3. Kevin reloads the page once that compiler has completed.

If Webpack is responsible for building both JS and HTML, though, step 1 is impossible if step 3 hasn't already completed. So, you must either manually trigger a request for a JS file from the needed compiler, or you must rely on cached HTML from a prior build.

## Usage
- Clone the repo.
- Run `yarn install`.
- Run `yarn start`.
- The server will be running on `http://localhost:9275`.
- Visit `http://localhost:9275/app-a.html` for App A. Kevin will only build App A's JS.
- Visit `http://localhost:9275/app-b.html` for App B. Kevin will only build App B's JS.
- See the comments in `server.js` for how to toggle to the Webpack-built-HTML variant.

## Note
Because this toy example is so small, it is not a good candidate to be using Kevin at all :) — it serves only as an implementation example.

If you imagine that there are a lot more than just two apps, and each app has dozens/hundreds of entrypoints, then this would be a stellar use-case for Kevin.